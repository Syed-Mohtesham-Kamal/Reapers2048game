(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{12:function(e,t,i){},13:function(e,t,i){},14:function(e,t,i){},15:function(e,t,i){"use strict";i.r(t);var s=i(2),n=i(1),o=i(6),r=i.n(o);var l=i.p+"static/media/try-again.4f930231.gif",c=i(0),a=function(e){var t=e.onRestart,i=e.board;return i.hasWon()?Object(c.jsx)("div",{className:"tile2048"}):i.hasLost()?Object(c.jsx)("div",{className:"gameOver",onClick:t,children:Object(c.jsx)("img",{src:l,alt:"Try Again",style:{width:"100%",height:"100%",cursor:"pointer"}})}):null},u=function(e){var t=e.tile,i=["tile"];i.push("tile"+t.value),t.mergedInto||i.push("position_".concat(t.row,"_").concat(t.column)),t.mergedInto&&i.push("merged"),t.isNew()&&i.push("new"),t.hasMoved()&&(i.push("row_from_".concat(t.fromRow(),"_to_").concat(t.toRow())),i.push("column_from_".concat(t.fromColumn(),"_to_").concat(t.toColumn())),i.push("isMoving"));var s=i.join(" ");return Object(c.jsx)("span",{className:s})},h=function(){return Object(c.jsx)("div",{className:"cell"})},d=i(4),m=i(5),v=function(e){for(var t=e.length,i=e[0].length,s=[],n=0;n<t;++n){s.push([]);for(var o=0;o<i;++o)s[n][o]=e[o][i-n-1]}return s},f=function(){function e(t,i,s){Object(d.a)(this,e),this.value=t||0,this.row=i||-1,this.column=s||-1,this.oldRow=-1,this.oldColumn=-1,this.markForDeletion=!1,this.mergedInto=null,this.id=this.id++||0}return Object(m.a)(e,[{key:"moveTo",value:function(e,t){this.oldRow=this.row,this.oldColumn=this.column,this.row=e,this.column=t}},{key:"isNew",value:function(){return-1===this.oldRow&&!this.mergedInto}},{key:"hasMoved",value:function(){return-1!==this.fromRow()&&(this.fromRow()!==this.toRow()||this.fromColumn()!==this.toColumn())||this.mergedInto}},{key:"fromRow",value:function(){return this.mergedInto?this.row:this.oldRow}},{key:"fromColumn",value:function(){return this.mergedInto?this.column:this.oldColumn}},{key:"toRow",value:function(){return this.mergedInto?this.mergedInto.row:this.row}},{key:"toColumn",value:function(){return this.mergedInto?this.mergedInto.column:this.column}}]),e}(),j=function(){function e(){Object(d.a)(this,e),this.tiles=[],this.cells=[],this.score=0,this.size=4,this.fourProbability=.1,this.deltaX=[-1,0,1,0],this.deltaY=[0,-1,0,1];for(var t=0;t<this.size;++t)this.cells[t]=[this.addTile(),this.addTile(),this.addTile(),this.addTile()];this.addRandomTile(),this.addRandomTile(),this.setPositions(),this.won=!1}return Object(m.a)(e,[{key:"addTile",value:function(e){var t=new f(e);return this.tiles.push(t),t}},{key:"moveLeft",value:function(){for(var e=!1,t=0;t<this.size;++t){for(var i=this.cells[t].filter((function(e){return 0!==e.value})),s=[],n=0;n<this.size;++n){var o=i.length?i.shift():this.addTile();if(i.length>0&&i[0].value===o.value){var r=o;o=this.addTile(o.value),r.mergedInto=o;var l=i.shift();l.mergedInto=o,o.value+=l.value,this.score+=r.value+l.value}s[n]=o,this.won|=2048===o.value,e|=o.value!==this.cells[t][n].value}this.cells[t]=s}return e}},{key:"setPositions",value:function(){this.cells.forEach((function(e,t){e.forEach((function(e,i){e.oldRow=e.row,e.oldColumn=e.column,e.row=t,e.column=i,e.markForDeletion=!1}))}))}},{key:"addRandomTile",value:function(){for(var e=[],t=0;t<this.size;++t)for(var i=0;i<this.size;++i)0===this.cells[t][i].value&&e.push({r:t,c:i});var s=e[~~(Math.random()*e.length)],n=Math.random()<this.fourProbability?4:2;this.cells[s.r][s.c]=this.addTile(n)}},{key:"move",value:function(e){this.clearOldTiles();for(var t=0;t<e;++t)this.cells=v(this.cells);for(var i=this.moveLeft(),s=e;s<4;++s)this.cells=v(this.cells);return i&&this.addRandomTile(),this.setPositions(),this}},{key:"clearOldTiles",value:function(){this.tiles=this.tiles.filter((function(e){return!1===e.markForDeletion})),this.tiles.forEach((function(e){e.markForDeletion=!0}))}},{key:"hasWon",value:function(){return this.won}},{key:"hasLost",value:function(){for(var e=!1,t=0;t<this.size;++t)for(var i=0;i<this.size;++i){e|=0===this.cells[t][i].value;for(var s=0;s<4;++s){var n=t+this.deltaX[s],o=i+this.deltaY[s];n<0||n>=this.size||o<0||o>=this.size||(e|=this.cells[t][i].value===this.cells[n][o].value)}}return!e}}]),e}(),b=function(){var e=Object(n.useState)(new j),t=Object(s.a)(e,2),i=t[0],o=t[1];!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(n.useEffect)((function(){return window.addEventListener(e,t,i),function(){window.removeEventListener(e,t,i)}}))}("keydown",(function(e){if(!i.hasWon()&&e.keyCode>=37&&e.keyCode<=40){var t=e.keyCode-37,s=Object.assign(Object.create(Object.getPrototypeOf(i)),i).move(t);o(s)}}));var r=i.cells.map((function(e,t){return Object(c.jsx)("div",{children:e.map((function(e,s){return Object(c.jsx)(h,{},t*i.size+s)}))},t)})),l=i.tiles.filter((function(e){return 0!==e.value})).map((function(e,t){return Object(c.jsx)(u,{tile:e},t)})),d=function(){o(new j)};return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"details-box",children:[Object(c.jsx)("div",{className:"resetButton",onClick:d,children:"New Game"}),Object(c.jsxs)("div",{className:"score-box",children:[Object(c.jsx)("div",{className:"score-header",children:"SCORE"}),Object(c.jsx)("div",{children:i.score})]})]}),Object(c.jsxs)("div",{className:"board",children:[r,l,Object(c.jsx)(a,{onRestart:d,board:i})]})]})};i(12);var w=function(e){return e.trigger?Object(c.jsx)("div",{className:"popup",children:Object(c.jsxs)("div",{className:"popup-inner",children:[e.children,Object(c.jsx)("svg",{className:"close-btn",onClick:function(){return e.setTrigger(!1)},stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"})})]})}):""},O=function(e){e.url;var t=function(e){var t=Object(n.useState)(new Audio(e)),i=Object(s.a)(t,1)[0],o=Object(n.useState)(!0),r=Object(s.a)(o,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){l?i.play():i.pause()}),[l]),Object(n.useEffect)((function(){return i.addEventListener("ended",(function(){return c(!0)})),function(){i.removeEventListener("ended",(function(){return c(!0)}))}}),[]),[l,function(){return c(!l)}]}("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"),i=Object(s.a)(t,2),o=i[0],r=i[1];return Object(c.jsx)("div",{children:o?Object(c.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",onClick:r,children:Object(c.jsx)("path",{d:"M275.5 96l-96 96h-96v128h96l96 96V96zm51.46 27.668l-4.66 17.387c52.066 13.95 88.2 61.04 88.2 114.945 0 53.904-36.134 100.994-88.2 114.945l4.66 17.387C386.81 372.295 428.5 317.962 428.5 256c0-61.963-41.69-116.295-101.54-132.332zm-12.425 46.365l-4.658 17.387C340.96 195.748 362.5 223.822 362.5 256s-21.54 60.252-52.623 68.58l4.658 17.387C353.402 331.552 380.5 296.237 380.5 256c0-40.238-27.098-75.552-65.965-85.967zm-12.424 46.363l-4.657 17.387C307.55 236.49 314.5 245.547 314.5 256s-6.95 19.51-17.047 22.217l4.658 17.387c17.884-4.792 30.39-21.09 30.39-39.604 0-18.513-12.506-34.812-30.39-39.604z"})}):Object(c.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",onClick:r,children:Object(c.jsx)("path",{d:"M275.5 96l-96 96h-96v128h96l96 96V96zm50.863 89.637l-12.726 12.726L371.273 256l-57.636 57.637 12.726 12.726L384 268.727l57.637 57.636 12.726-12.726L396.727 256l57.636-57.637-12.726-12.726L384 243.273l-57.637-57.636z"})})})},g=(i(13),i(14),i.p+"static/media/logo.3e29beef.gif"),p=i.p+"static/media/welcome.ebb08778.png";function x(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),i=t[0],o=t[1];return Object(n.useEffect)((function(){setTimeout((function(){o(!0)}),1e3)}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{className:"logo",src:g,alt:"Logo"}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b,{}),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(w,{trigger:i,setTrigger:o,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{className:"welcome",src:p,alt:"Welcome"}),Object(c.jsxs)("p",{className:"popup-text",children:[Object(c.jsx)("b",{children:"HOW TO PLAY : "}),"Use your arrow keys to move the tiles. When two tiles with the same number touch, they merge into one!"]})]})}),Object(c.jsx)(O,{})]})]})]})}r.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8d6851f5.chunk.js.map